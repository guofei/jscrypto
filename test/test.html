<html>
<body>

<center><h1>Plugin</h1></center>

<br><br>

<center>

<embed type="application/crypto" id="Crypto plugin 2" hidden="true">

<script>

plugin_call_test();
function plugin_call_test(){

  var ele = document.createElement("embed");
  ele.setAttribute("type", "application/crypto");
  ele.setAttribute("id", "Crypto plugin");
  document.body.appendChild(ele);


  var plugin = document.getElementById("Crypto plugin");

  if(!plugin){
    alert("no plugin");
  }else{
    alert("succeeded load plugins");
  }
  var pub = plugin.load_public_key("/Users/kaku/Programs/M2/jscrypto/test/public.pem");
  alert(pub);
  var pri = plugin.load_private_key("/Users/kaku/Programs/M2/jscrypto/test/private.pem", "12345678");
  alert(pri);
  var ciphertext = plugin.encrypt(pub, "abc");
  alert(ciphertext);
  var text = plugin.decrypt(pri, ciphertext);
  alert(text);
  //plugin.test("helloword");
}

</script>
</center>

</html>
</body>


